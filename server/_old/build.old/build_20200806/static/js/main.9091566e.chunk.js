(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),s=a.n(c),l=(a(61),a(17)),o=a.n(l),i=a(22),u=a(18),m=a(2),h=(a(63),a(64),a(5)),d=a(8),v=a(7),p=a(6),f=(a(65),window.origin.toString()),E=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.toggleClass=function(e){e.preventDefault(),document.querySelectorAll(".header__elem1__link").forEach((function(e){return e.classList.remove("--selected")})),e.currentTarget.classList.add("--selected")},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__elem1"},r.a.createElement("div",{className:"header__elem1__logo"}," Logo "),r.a.createElement("div",{className:"header__elem1__link quick",onClick:this.toggleClass}," ",r.a.createElement(u.b,{to:"/quick"},"Quick")," "),r.a.createElement("div",{className:"header__elem1__link search",onClick:this.toggleClass}," ",r.a.createElement(u.b,{to:"/wd"},"Search")," "),r.a.createElement("div",{className:"header__elem1__link about",onClick:this.toggleClass}," ",r.a.createElement(u.b,{to:"/about"},"About")," ")),r.a.createElement("div",{className:"header__elem2"},r.a.createElement("div",null," ",f.includes("osh")?"public erver":"live server"," ")))}}]),a}(r.a.Component),y=(a(70),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"footer"}," https://developers.neople.co.kr/contents/apiDocs/df ")}}]),a}(r.a.Component)),g=a(31),b=a.n(g);var w=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"dd")}}]),a}(r.a.Component),N=(a(103),b.a.connect(window.location.origin,{transports:["websocket"]}));var S,j=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={snapshot:{},prevSnapshot:{},summary:{},prevSummary:{},cuttline:75e5,timeStamp:0,connect:0,shown:!0,color:"--white",tempAlramVar:0},e.notiCallback=function(){var t=e.state.summary.lowest,a=1*t["\uc0ac\ub3c4\uc758 \uac15\ub9bc \ud328\ud0a4\uc9c0"]-.97*(t["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uce6d\ud638 \uc0c1\uc790"]+t["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc624\ub77c \uc0c1\uc790"]+t["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc138\ub77c \uc0c1\uc790"]+t["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc2a4\ud398\uc15c \ubcf4\ubb3c \uc0c1\uc790"]);if(console.log(a,e.state.hash,e.hashConvert(e.state.hash)),console.log(e.state.cuttline),a<=e.state.cuttline&&0===e.state.tempAlramVar){e.setState({tempAlramVar:1},(function(){setTimeout((function(){return e.setState({tempAlramVar:0})}),15e3)})),new Notification("\uc54c\ub9bc",{body:"".concat(e.hashConvert(e.state.hash),"\uff20").concat(Math.floor(a))})}},e.hashCode=function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)},e.hashConvert=function(e){return String(Math.abs(e)).split("").map((function(e){return 1*e})).reduce((function(e,t){return e+=String.fromCharCode(97+t)}),"")},e.signString=function(e,t){var a=t-e,n=Math.sign(a)+0;return 0===n?["--zero","","-"]:1===n?["--plus","\u2191 ",Math.abs(a).toLocaleString("en")]:-1===n?["--minus","\u2193 ",Math.abs(a).toLocaleString("en")]:void 0},e.toggle=function(e){console.log(e.target.classList);var t=document.querySelector("#".concat(e.target.getAttribute("id")));"none"===t.style.display?t.style.display="flex":t.style.display="none"},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;Notification.requestPermission(),N.on("connect",(function(){console.log("connect")})),N.on("snapshot-2",(function(t,a){e.setState({color:"--green"},(function(){setTimeout((function(){return e.setState({color:"--black"})}),500)}));var n=t,r=e.state.snapshot,c=e.hashCode(JSON.stringify(n)),s=e.hashCode(JSON.stringify(r)),l=0!==Object.keys(e.state.prevSnapshot).length,o={lowest:Object.keys(n).reduce((function(e,t){return e[t]=n[t][0].unitPrice,e}),{}),prevLowest:Object.keys(r).reduce((function(e,t){return e[t]=r[t][0].unitPrice,e}),{}),quantity:Object.keys(n).reduce((function(e,t){return e[t]=n[t].reduce((function(e,t){return e+=t.count}),0),e}),{}),hash:c};if(l)if(0!==s-c){var i=e.state.snapshot,u=e.state.summary;e.setState({snapshot:n,prevSnapshot:i,summary:o,prevSummary:u,timeStamp:a,hash:c},e.notiCallback)}else e.setState({snapshot:n,summary:o,timeStamp:a,hash:c});else e.setState({snapshot:n,prevSnapshot:n,summary:o,prevSummary:o,timeStamp:a,hash:c},(function(){return console.log("")}))}))}},{key:"render",value:function(){var e=this,t=this.state.snapshot,a=(this.state.prevSnapshot,this.state.summary,this.state.prevSummary,this.state.summary.lowest||{}),n=this.state.prevSummary.lowest||{},c=this.state.summary.quantity||{},s=1*a["\uc0ac\ub3c4\uc758 \uac15\ub9bc \ud328\ud0a4\uc9c0"]-.97*(a["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uce6d\ud638 \uc0c1\uc790"]+a["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc624\ub77c \uc0c1\uc790"]+a["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc138\ub77c \uc0c1\uc790"]+a["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc2a4\ud398\uc15c \ubcf4\ubb3c \uc0c1\uc790"]),l=!1===!!s?"":Math.sign(s-this.state.cuttline)>=1?"--none":"--red";n["\uc0ac\ub3c4\uc758 \uac15\ub9bc \ud328\ud0a4\uc9c0"],n["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uce6d\ud638 \uc0c1\uc790"],n["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc624\ub77c \uc0c1\uc790"],n["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc138\ub77c \uc0c1\uc790"],n["\uc0ac\ub3c4\uc758 \uac15\ub9bc \uc2a4\ud398\uc15c \ubcf4\ubb3c \uc0c1\uc790"],!1===!!s||Math.sign(s-this.state.cuttline);return r.a.createElement("div",{id:"quick"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"lowest"},r.a.createElement("div",{className:"attribute row --shown-"+this.state.shown,onClick:function(){return e.setState({shown:!e.state.shown})}},r.a.createElement("div",{className:"attribute cell --long"}," \uac80\uc0c9\uc5b4 "),r.a.createElement("div",{className:"attribute cell --short"}," \uac00\uaca9 "),r.a.createElement("div",{className:"attribute cell --short"}," \ubcc0\ub3d9\ud3ed "),r.a.createElement("div",{className:"attribute cell --extra-short"}," \ubb3c\ub7c9 ")),Object.keys(a).map((function(s,l){var o,i=(o=a[s],Number(o).toLocaleString("en")),u=e.signString(n[s],a[s]);return r.a.createElement("div",{className:"data row",key:l},r.a.createElement("div",{className:"data cell --long --elipsis"}," ",Object.keys(t).length>=1?t[s][0].itemName:s," "),r.a.createElement("div",{className:"data cell --short --num"}," ",i," "),r.a.createElement("div",{className:"data cell --short --num "+u[0]}," ",u[1],u[2]," "),r.a.createElement("div",{className:"data cell --extra-short --num "}," ",c[s]," "))})),r.a.createElement("div",{className:"data row "+l},r.a.createElement("div",{className:"data cell --long"}," ","\uc2e4\uc81c \uc544\ubc14\ud0c0\uac12"," "),r.a.createElement("div",{className:"data cell --short --num "}," ",Math.floor(s||0).toLocaleString("en")||0," "),r.a.createElement("div",{className:"data cell --short"}," "," "),r.a.createElement("div",{className:"data cell --extra-short"}," "," ")),r.a.createElement("div",{className:"lowest-tail --flex"},r.a.createElement("div",{className:"--flex --space-between"},r.a.createElement("div",{className:"--flex"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-caret-square-down "+this.state.color+" --temp"})),r.a.createElement("div",null," ",new Date(this.state.timeStamp||0).toLocaleTimeString()," ")),r.a.createElement("div",null," ",this.hashConvert(this.state.hash)," ")),r.a.createElement("div",{className:"--flex --relative"},r.a.createElement("i",{className:"fas fa-eye --inner-eye"}),r.a.createElement("input",{className:"--simpleInput",value:this.state.cuttline,onChange:function(t){return e.setState({cuttline:Number(t.target.value)})}})))),r.a.createElement("div",{className:"snapshot"})),r.a.createElement("div",{className:"honey-bee"}))}}]),a}(r.a.Component),_=(r.a.Component,j),k=a(19),O=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showDetails:!1},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.rows;return r.a.createElement("div",{className:"layer-b"},e.map((function(e,t){return r.a.createElement("div",{className:"layer-c",key:t},r.a.createElement("div",null," ",e.itemName," "),r.a.createElement("div",null," ",e.count," "),r.a.createElement("div",null," ",e.unitPrice.toLocaleString("en")," "))})))}}]),a}(r.a.Component),C=(a(104),function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showDetails:!1},e.toggleDetail=function(){e.setState({showDetails:!e.state.showDetails})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.data,t=this.props.query,a=e._timeStamp||0,n=new Date(a),c=e[t].rows||[];return console.log(e[t][0]),r.a.createElement("div",{className:"layer-a "+(this.state.showDetails&&"--showDetail")},r.a.createElement("div",{className:"head",onClick:this.toggleDetail},r.a.createElement("div",null," ","\u3141"," ",n.toLocaleString()," "),r.a.createElement("div",null," "),r.a.createElement("div",null," ",c[0].unitPrice," ")),r.a.createElement(O,{rows:c||[]}))}}]),a}(r.a.Component)),q=(a(105),a(129)),D=[],x=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.submit=function(t){var a=document.querySelector("#autoComplete").value;"Enter"===t.key&&0!==a.length&&e.props.onEnter(a)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("didm"),e.next=3,fetch("/api/getIndex");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,a.forEach((function(e){return D.push({title:e})}));case 9:this.setState(D);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{width:300}},r.a.createElement(q.a,{id:"autoComplete",options:D.map((function(e){return e.title})),renderInput:function(t){return r.a.createElement("div",{ref:t.InputProps.ref,className:"search-input"},r.a.createElement("div",{className:"fas-wrapper"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("input",Object.assign({},t.inputProps,{label:"freeSolo",margin:"normal",variant:"outlined",placeholder:"\uac80\uc0c9\ud560 \uc544\uc774\ud15c \uc785\ub825",onKeyDown:e.submit})))}}))}}]),a}(r.a.Component),A=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"\ucc2c\ub780\ud55c \ubd89\uc740\ube5b \uc5e0\ube14\ub818[\ud798]",json:null,isFetching:!1},e.fetchDefault=function(){e.setState(Object(k.a)(Object(k.a)({},e.state),{},{isFetching:!0}));var t=window.origin;fetch("".concat(t,"/api/").concat(e.state.query)).then((function(e){return e.json()})).then((function(t){e.setState({json:t,query:e.state.query,isFetching:!1})})).catch((function(e){return console.log(e)}))},e.siptListener=function(t){var a=document.querySelector("#autoComplete").value;"Enter"===t.key&&0!==a.length&&e.sendQuery(a)},e.sendQuery=function(t){e.setState(Object(k.a)(Object(k.a)({},e.state),{},{isFetching:!0})),fetch("/api/".concat(t)).then((function(e){return e.json()})).then((function(a){console.log(a),e.setState({json:a,query:t,isFetching:!1})})).catch((function(e){return console.log(e)}))},e.onEnter=function(t){e.sendQuery(t)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchDefault()}},{key:"render",value:function(){var e=this.state.json||{},t=Object.keys(e),a=this.state.query,n=(((e[0]||{})[a]||[]).rows||[])[0]||{};console.log(n.itemId);var c=n.itemId||"43378c2c961612d37ea73a16aeecaa9e";return r.a.createElement("div",{className:"wd"},r.a.createElement("div",{className:"wd__elem1"}),r.a.createElement("div",{className:"wd__elem2 --horizontal"},r.a.createElement("div",{className:"wd__elem2__elem1"},r.a.createElement(x,{onEnter:this.onEnter}),r.a.createElement("div",{className:"summary-data"}),r.a.createElement("div",{className:"recent-search"})),r.a.createElement("div",{className:"wd__elem2__elem2 --vertical"},r.a.createElement("div",{className:"wd__elem2__elem2__elem1"},r.a.createElement("div",{className:"wd__elem2__elem2__elem1__query-name"},r.a.createElement("img",{src:"https://img-api.neople.co.kr/df/items/".concat(c)}),r.a.createElement("div",null,a))),t.map((function(t){return r.a.createElement(C,{key:t,query:a,data:e[t]})}))),r.a.createElement("div",{className:"layer-e"},"TEST")),r.a.createElement("div",{className:"footer"}),r.a.createElement("div",null))}}]),a}(r.a.Component);S="https://use.fontawesome.com/releases/v5.6.3/css/all.css",new Promise((function(e,t){var a=document.createElement("link");a.rel="stylesheet",a.href=S,a.integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/",a.crossOrigin="anonymous",document.head.appendChild(a),a.onload=function(){e(),console.log("CSS has loaded!")}}));var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(E,null),r.a.createElement(m.a,{exact:!0,path:"/quick",component:_}),r.a.createElement(m.a,{path:"/wd",component:A}),r.a.createElement(m.a,{path:"/about",component:w})),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,t,a){e.exports=a(106)},61:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},64:function(e,t,a){},65:function(e,t,a){},70:function(e,t,a){}},[[56,1,2]]]);
//# sourceMappingURL=main.9091566e.chunk.js.map